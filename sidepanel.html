<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文档查重助手 Pro</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- 第三方库 -->
    <script src="lib/jszip.min.js"></script>
    <script src="lib/xlsx.full.min.js"></script>
    <script src="lib/pdf.min.js"></script>
    <!-- 核心功能模块 -->
    <script src="js/docx-parser.js"></script>
    <script src="js/pdf-parser.js"></script>
    <script src="js/document-parser.js"></script>
    <script src="js/text-similarity.js"></script>
    <script src="js/report-generator.js"></script>
    <!-- 主程序 -->
    <script src="js/sidepanel.js" defer></script>
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="logo-container">
                <div class="logo-icon"></div>
                <h1>文档查重助手 <span class="pro-badge">Pro</span></h1>
            </div>
            <div class="developer-info">
                <span class="dev-label">By 李弋</span>
                <div class="social-links">
                    <a href="https://v.douyin.com/KWLNwyhxiSQ/" target="_blank" class="social-link" title="抖音: 李老师聊医学">
                        <img src="icons/tiktok.svg" alt="抖音">
                    </a>
                    <a href="https://www.xiaohongshu.com/user/profile/61d313ec000000001000e0df?xsec_token=YB7vIleXdfbkd1aFZJ83RRzI23hzVrfyN2aymMy7s2v78=&xsec_source=app_share&xhsshare=CopyLink&appuid=61d313ec000000001000e0df&apptime=1749204004&share_id=8521acb6cf494939a13c739b752d70f4" target="_blank" class="social-link" title="小红书: 医考李老师">
                        <img src="icons/xiaohongshu.svg" alt="小红书">
                    </a>
                </div>
            </div>
        </header>
        
        <main class="main-content">
            <div class="card upload-card">
                <div class="tips-section">
                    <div class="tips-header">
                        <span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg></span>
                        <h3>使用贴士</h3>
                    </div>
                    <ul class="tips-list">
                        <li>建议删除题目说明等重复文本</li>
                        <li>支持 .docx 和 .pdf 格式</li>
                        <li>单次建议 &le; 10 个文档</li>
                        <li>PDF 建议使用文字版</li>
                    </ul>
                </div>

                <div class="mode-section">
                    <div class="mode-selector">
                        <label class="mode-option">
                            <input type="radio" name="mode" value="single" checked>
                            <span class="mode-label">单文档查重</span>
                        </label>
                        <label class="mode-option">
                            <input type="radio" name="mode" value="multiple">
                            <span class="mode-label">多文档查重</span>
                        </label>
                    </div>
                    <!-- JS will inject slider here -->
                </div>

                <div class="action-area">
                    <button id="uploadBtn" class="primary-btn upload-trigger">
                        <span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg></span>
                        <span class="text">选择文件</span>
                        <span class="sub-text">支持拖拽上传</span>
                    </button>
                    
                    <div class="control-buttons">
                        <button id="startBtn" class="action-btn" disabled title="开始查重">
                            <span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></span> 开始
                        </button>
                        <button id="cancelBtn" class="action-btn secondary" disabled title="取消分析">
                            <span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg></span> 取消
                        </button>
                        <button id="exportBtn" class="action-btn secondary" disabled title="导出结果">
                            <span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></span> 导出
                        </button>
                        <button id="copyBtn" class="action-btn secondary" disabled title="复制结果">
                            <span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg></span> 复制
                        </button>
                    </div>
                </div>
                
                <input type="file" id="docxFile" accept=".docx,.pdf" multiple style="display: none;">
            </div>

            <div id="results" class="results-section" aria-live="polite">
                <!-- Results injected here -->
            </div>
        </main>

        <footer class="app-footer">
            <div class="footer-links">
                <span>v2.0</span>
            </div>
            <div class="footer-note">🔒 数据仅本地处理，安全无忧</div>
        </footer>
    </div>
</body>
</html>
